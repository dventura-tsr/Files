<html>

<head>
  <link rel="dns-prefetch preconnect" href="https://cdn.prod.us.five9.net">
  <link rel="dns-prefetch preconnect" href="https://cdn.jsdelivr.net">
  <script src='https://cdn.prod.us.five9.net/static/stable/chat/wrapper/index.js'></script>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
  <title>CVR Support</title>
</head>

<body>
  <div class="container-md">
    <div class="mt-5">
      <div class="d-flex justify-content-center">
        <img src='/cvr-logo.png' width="75px" alt="CVR" />
        <div class="px-2 align-self-center">
          <h1 class="fs-4">Welcome to CVR Chat Support</h1>
        </div>
      </div>
      <div>
        <table>
                    <tr>
            <td>Name </td>
            <td></td>
          </tr>
          <tr>
            <td>CMF </td>
            <td></td>
          </tr>
        </table>
      </div>
      <div id="ChatContainer">
      </div>
    </div>
  </div>
  <script>
    var nameParam = "";
    var emailParam = "user@cvrconnect.com";
    var questionParam = "Need Help! for " + nameParam;
    var cmfParam = "";
    var params = JSON.parse('[]');
    var captureFields = null;
    var baseParams = [{
        "k": "campaign",
        "v": "CVR_Chat"
      }, {
        "k": "name",
        "v": nameParam
      },
      {
        "k": "Question",
        "v": questionParam
      },
      {
        "k": "CDK.CMF",
        "v": ""
      }
    ];
          var captureFields = [{
        "k": "email",
        "l": "Email Address",
        "p": "Enter your email..."
      }];
        params.map(function(value, key) {
      baseParams.push(value)
    })

    console.log(baseParams);
    F9.Chat.Wrapper.init({
      cdn: 'prod',
      useBusinessHours: false,
      languages: {
        "enabled": false,
        "backgroundColor": "#E0E3E8"
      },
      l10n: {
        "en": {
          "messenger": {
            "customText": {}
          },
          "systemMessages": {
            "conversationCreated": "Welcome " + nameParam + "!",
            "transferredToParticipant": "The chat has been transferred to {name}.",
            "transferredToGroup": "That chat has been transferred to group {group}."
          },
          "captureFields": captureFields
        }
      },
      prepopulatedFields: baseParams,
      messenger: {
        "integrationId": "950f1a40-a7cf-4f0a-94ea-7d007a9d4ce5",
        "soundNotificationEnabled": true,
        "transcriptPrintingEnabled": false,
        "menuItems": {
          "imageUpload": true,
          "fileUpload": true,
          "shareLocation": true
        },
        "embedded": true,
        "containerId": 'ChatContainer',
        "setViewportScale": false,
        "businessName": "CVR Support Chat",
        "browserStorage": "sessionStorage",
        "hideWidgetAfterBusinessHours": false,
        "scheduleCallback": {
          "isCallbackEnabled": false,
          "requestCallbackList": "",
          "customConfirmationMessage": "We will call you as soon as we can at [PHONE]",
          "web2CampaignAPIHost": ""
        },
        "fixedHeader": false,
        //"displayStyle": "window",
        "customColors": {
          "brandColor": "019cde",
          "conversationColor": "019cde",
          "actionColor": "019cde"
        },
        "carouselType": "default"
      },
      clearMessagesTimeout: 3
    });
  </script>
</body>

</html>
